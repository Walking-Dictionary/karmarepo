In file included from ../src/bufferutil.cc:7:0:
/home/vagrant/.node-gyp/6.9.5/include/node/v8.h:345:1: error: expected unqualified-id before 'using'
/home/vagrant/.node-gyp/6.9.5/include/node/v8.h:481:1: error: expected unqualified-id before 'using'
/home/vagrant/.node-gyp/6.9.5/include/node/v8.h:882:1: error: expected unqualified-id before 'using'
/home/vagrant/.node-gyp/6.9.5/include/node/v8.h:5431:35: error: 'virtual v8::EmbedderHeapTracer::~EmbedderHeapTracer()' declared virtual cannot be defaulted in the class body
In file included from ../src/bufferutil.cc:15:0:
../../nan/nan.h:206:9: error: 'v8::Handle' has not been declared
../../nan/nan.h:206:15: error: expected ',' or '...' before '<' token
../../nan/nan.h: In function 'bool NanBooleanOptionValue(v8::Local<v8::Object>, int)':
../../nan/nan.h:208:7: error: 'def' was not declared in this scope
../../nan/nan.h:210:27: error: 'opt' was not declared in this scope
../../nan/nan.h:214:26: error: 'opt' was not declared in this scope
../../nan/nan.h: At global scope:
../../nan/nan.h:221:9: error: 'v8::Handle' has not been declared
../../nan/nan.h:221:15: error: expected ',' or '...' before '<' token
../../nan/nan.h: In function 'bool NanBooleanOptionValue(v8::Local<v8::Object>, int)':
../../nan/nan.h:219:17: error: redefinition of 'bool NanBooleanOptionValue(v8::Local<v8::Object>, int)'
../../nan/nan.h:204:17: error: 'bool NanBooleanOptionValue(v8::Local<v8::Object>, int)' previously defined here
../../nan/nan.h:223:44: error: 'opt' was not declared in this scope
../../nan/nan.h: At global scope:
../../nan/nan.h:228:9: error: 'v8::Handle' has not been declared
../../nan/nan.h:228:15: error: expected ',' or '...' before '<' token
../../nan/nan.h: In function 'uint32_t NanUInt32OptionValue(v8::Local<v8::Object>, int)':
../../nan/nan.h:232:24: error: 'opt' was not declared in this scope
../../nan/nan.h:235:9: error: 'def' was not declared in this scope
../../nan/nan.h: At global scope:
../../nan/nan.h:334:11: error: 'NanNew' declared as an 'inline' variable
../../nan/nan.h:334:11: warning: 'always_inline' attribute ignored [-Wattributes]
../../nan/nan.h:334:11: error: template declaration of 'v8::Local<v8::Signature> NanNew'
../../nan/nan.h:334:7: error: 'Handle' is not a member of 'v8'
../../nan/nan.h:334:38: error: expected primary-expression before '>' token
../../nan/nan.h:334:40: error: 'receiver' was not declared in this scope
../../nan/nan.h:335:7: error: expected primary-expression before 'int'
../../nan/nan.h:336:7: error: 'Handle' is not a member of 'v8'
../../nan/nan.h:336:38: error: expected primary-expression before '>' token
../../nan/nan.h:336:40: error: 'argv' was not declared in this scope
../../nan/nan.h:336:45: error: expected primary-expression before ']' token
../../nan/nan.h:343:11: error: 'v8::Handle' has not been declared
../../nan/nan.h:343:17: error: expected ',' or '...' before '<' token
../../nan/nan.h: In function 'v8::Local<v8::FunctionTemplate> NanNew(NanFunctionCallback, int)':
../../nan/nan.h:345:42: error: 'data' was not declared in this scope
../../nan/nan.h:345:48: error: 'signature' was not declared in this scope
../../nan/nan.h: At global scope:
../../nan/nan.h:349:38: error: 'NanNew' declared as an 'inline' variable
../../nan/nan.h:349:38: warning: 'always_inline' attribute ignored [-Wattributes]
../../nan/nan.h:349:38: error: template declaration of 'v8::Local<T> NanNew'
../../nan/nan.h:349:34: error: 'Handle' is not a member of 'v8'
../../nan/nan.h:349:46: error: expected primary-expression before '>' token
../../nan/nan.h:349:48: error: 'arg1' was not declared in this scope
../../nan/nan.h: In function 'v8::Local<T> NanNew(P) [with T = v8::UnboundScript, P = v8::Local<v8::String>]':
../../nan/nan.h:400:67: warning: 'static v8::Local<v8::UnboundScript> v8::ScriptCompiler::CompileUnbound(v8::Isolate*, v8::ScriptCompiler::Source*, v8::ScriptCompiler::CompileOptions)' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:1333): Use maybe version [-Wdeprecated-declarations]
../../nan/nan.h: In function 'v8::Local<v8::String> NanNew(v8::String::ExternalStringResource*)':
../../nan/nan.h:405:57: warning: 'static v8::Local<v8::String> v8::String::NewExternal(v8::Isolate*, v8::String::ExternalStringResource*)' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:2371): Use maybe version [-Wdeprecated-declarations]
../../nan/nan.h: At global scope:
../../nan/nan.h:409:19: error: 'NanNew' declared as an 'inline' variable
../../nan/nan.h:409:19: warning: 'always_inline' attribute ignored [-Wattributes]
../../nan/nan.h:409:19: error: 'v8::Local<v8::String> NanNew' redeclared as different kind of symbol
../../nan/nan.h:403:36: error: previous declaration of 'v8::Local<v8::String> NanNew(v8::String::ExternalStringResource*)'
../../nan/nan.h:409:7: error: 'ExternalAsciiStringResource' is not a member of 'v8::String'
../../nan/nan.h:409:48: error: 'resource' was not declared in this scope
../../nan/nan.h: In function 'v8::Local<T> NanNew(P) [with T = v8::BooleanObject, P = bool]':
../../nan/nan.h:415:40: warning: 'static v8::Local<v8::Value> v8::BooleanObject::New(bool)' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:4007): Pass an isolate [-Wdeprecated-declarations]
../../nan/nan.h: At global scope:
../../nan/nan.h:427:28: error: 'Handle' is not a member of 'v8'
../../nan/nan.h:427:28: error: 'Handle' is not a member of 'v8'
../../nan/nan.h:427:3: error: parse error in template argument list
../../nan/nan.h:427:51: error: expected initializer before '>' token
../../nan/nan.h:439:11: error: 'NanNew' declared as an 'inline' variable
../../nan/nan.h:439:11: warning: 'always_inline' attribute ignored [-Wattributes]
../../nan/nan.h:439:11: error: template declaration of 'v8::Local<v8::RegExp> NanNew'
../../nan/nan.h:439:7: error: 'Handle' is not a member of 'v8'
../../nan/nan.h:439:28: error: expected primary-expression before '>' token
../../nan/nan.h:439:30: error: 'pattern' was not declared in this scope
../../nan/nan.h:439:57: error: expected primary-expression before 'flags'
../../nan/nan.h:451:11: error: 'NanNew' declared as an 'inline' variable
../../nan/nan.h:451:11: warning: 'always_inline' attribute ignored [-Wattributes]
../../nan/nan.h:451:11: error: template declaration of 'v8::Local<v8::RegExp> NanNew'
../../nan/nan.h:451:7: error: 'Handle' is not a member of 'v8'
../../nan/nan.h:451:28: error: expected primary-expression before '>' token
../../nan/nan.h:451:30: error: 'pattern' was not declared in this scope
../../nan/nan.h:451:57: error: expected primary-expression before 'flags'
../../nan/nan.h: In function 'v8::Local<T> NanNew(P) [with T = v8::Uint32, P = int]':
../../nan/nan.h:463:68: warning: 'v8::Local<v8::Uint32> v8::Value::ToUint32() const' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:8196): Use maybe version [-Wdeprecated-declarations]
../../nan/nan.h: In function 'v8::Local<T> NanNew(P) [with T = v8::Uint32, P = unsigned int]':
../../nan/nan.h:468:68: warning: 'v8::Local<v8::Uint32> v8::Value::ToUint32() const' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:8196): Use maybe version [-Wdeprecated-declarations]
../../nan/nan.h: In function 'v8::Local<T> NanNew(P) [with T = v8::Int32, P = int]':
../../nan/nan.h:473:54: warning: 'v8::Local<v8::Int32> v8::Value::ToInt32() const' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:8202): Use maybe version [-Wdeprecated-declarations]
../../nan/nan.h: In function 'v8::Local<T> NanNew(P) [with T = v8::Int32, P = unsigned int]':
../../nan/nan.h:478:54: warning: 'v8::Local<v8::Int32> v8::Value::ToInt32() const' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:8202): Use maybe version [-Wdeprecated-declarations]
../../nan/nan.h: In function 'v8::Local<T> NanNew(P, int) [with T = v8::String, P = unsigned char*]':
../../nan/nan.h:522:15: warning: 'static v8::Local<v8::String> v8::String::NewFromOneByte(v8::Isolate*, const uint8_t*, v8::String::NewStringType, int)' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:2332): Use maybe version [-Wdeprecated-declarations]
../../nan/nan.h: In function 'v8::Local<T> NanNew(P, int) [with T = v8::String, P = const unsigned char*]':
../../nan/nan.h:533:15: warning: 'static v8::Local<v8::String> v8::String::NewFromOneByte(v8::Isolate*, const uint8_t*, v8::String::NewStringType, int)' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:2332): Use maybe version [-Wdeprecated-declarations]
../../nan/nan.h: In function 'v8::Local<T> NanNew(P) [with T = v8::String, P = unsigned char*]':
../../nan/nan.h:538:55: warning: 'static v8::Local<v8::String> v8::String::NewFromOneByte(v8::Isolate*, const uint8_t*, v8::String::NewStringType, int)' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:2332): Use maybe version [-Wdeprecated-declarations]
../../nan/nan.h: In function 'v8::Local<T> NanNew(P) [with T = v8::String, P = const unsigned char*]':
../../nan/nan.h:544:55: warning: 'static v8::Local<v8::String> v8::String::NewFromOneByte(v8::Isolate*, const uint8_t*, v8::String::NewStringType, int)' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:2332): Use maybe version [-Wdeprecated-declarations]
../../nan/nan.h: At global scope:
../../nan/nan.h:586:20: error: variable or field 'NanAddGCEpilogueCallback' declared void
../../nan/nan.h:586:7: error: 'GCEpilogueCallback' is not a member of 'v8::Isolate'
../../nan/nan.h:587:18: error: expected primary-expression before 'gc_type_filter'
../../nan/nan.h:592:20: error: variable or field 'NanRemoveGCEpilogueCallback' declared void
../../nan/nan.h:592:7: error: 'GCEpilogueCallback' is not a member of 'v8::Isolate'
../../nan/nan.h:597:20: error: variable or field 'NanAddGCPrologueCallback' declared void
../../nan/nan.h:597:7: error: 'GCPrologueCallback' is not a member of 'v8::Isolate'
../../nan/nan.h:598:18: error: expected primary-expression before 'gc_type_filter'
../../nan/nan.h:603:20: error: variable or field 'NanRemoveGCPrologueCallback' declared void
../../nan/nan.h:603:7: error: 'GCPrologueCallback' is not a member of 'v8::Isolate'
../../nan/nan.h:617:11: error: 'v8::Handle' has not been declared
../../nan/nan.h:617:17: error: expected ',' or '...' before '<' token
../../nan/nan.h: In function 'void NanAssignPersistent(v8::Persistent<T, v8::NonCopyablePersistentTraits<T> >&, int)':
../../nan/nan.h:618:33: error: 'obj' was not declared in this scope
../../nan/nan.h: At global scope:
../../nan/nan.h:632:36: error: expected ')' before '<' token
../../nan/nan.h:696:9: error: variable or field 'NanMakeWeakPersistent' declared void
../../nan/nan.h:696:5: error: 'Handle' is not a member of 'v8'
../../nan/nan.h:696:17: error: expected primary-expression before '>' token
../../nan/nan.h:696:19: error: 'handle' was not declared in this scope
../../nan/nan.h:697:6: error: expected primary-expression before '*' token
../../nan/nan.h:697:8: error: 'parameter' was not declared in this scope
../../nan/nan.h:698:51: error: expected '(' before 'callback'
../../nan/nan.h:720:37: error: variable or field 'NanThrowError' declared void
../../nan/nan.h:720:33: error: 'Handle' is not a member of 'v8'
../../nan/nan.h:720:53: error: expected primary-expression before '>' token
../../nan/nan.h:720:55: error: 'error' was not declared in this scope
../../nan/nan.h: In function 'void NanThrowError(const char*, int)':
../../nan/nan.h:739:45: error: no matching function for call to 'NanThrowError(v8::Local<v8::Value>)'
../../nan/nan.h:739:45: note: candidates are:
../../nan/nan.h:716:19: note: void NanThrowError(const char*)
../../nan/nan.h:716:19: note:   no known conversion for argument 1 from 'v8::Local<v8::Value>' to 'const char*'
../../nan/nan.h:735:19: note: void NanThrowError(const char*, int)
../../nan/nan.h:735:19: note:   candidate expects 2 arguments, 1 provided
../../nan/nan.h: At global scope:
../../nan/nan.h:767:13: error: 'node::smalloc' has not been declared
../../nan/nan.h:767:35: error: expected ',' or '...' before 'callback'
../../nan/nan.h: In function 'v8::Local<v8::Object> NanNewBufferHandle(char*, size_t, int)':
../../nan/nan.h:770:57: error: 'callback' was not declared in this scope
../../nan/nan.h:770:67: error: 'hint' was not declared in this scope
../../nan/nan.h: In function 'v8::Local<v8::Object> NanNewBufferHandle(const char*, uint32_t)':
../../nan/nan.h:777:53: error: invalid conversion from 'const char*' to 'char*' [-fpermissive]
/home/vagrant/.node-gyp/6.9.5/include/node/node_buffer.h:46:40: error:   initializing argument 2 of 'v8::MaybeLocal<v8::Object> node::Buffer::New(v8::Isolate*, char*, size_t)' [-fpermissive]
../../nan/nan.h:777:53: error: could not convert 'node::Buffer::New(nan_isolate, ((char*)data), ((size_t)size))' from 'v8::MaybeLocal<v8::Object>' to 'v8::Local<v8::Object>'
../../nan/nan.h: In function 'v8::Local<v8::Object> NanNewBufferHandle(uint32_t)':
../../nan/nan.h:781:47: error: could not convert 'node::Buffer::New(nan_isolate, ((size_t)size))' from 'v8::MaybeLocal<v8::Object>' to 'v8::Local<v8::Object>'
../../nan/nan.h: In function 'v8::Local<v8::Object> NanBufferUse(char*, uint32_t)':
../../nan/nan.h:788:12: error: 'Use' is not a member of 'node::Buffer'
../../nan/nan.h: At global scope:
../../nan/nan.h:793:11: error: 'v8::Handle' has not been declared
../../nan/nan.h:793:17: error: expected ',' or '...' before '<' token
../../nan/nan.h: In function 'bool NanHasInstance(v8::Persistent<v8::FunctionTemplate>&, int)':
../../nan/nan.h:795:51: error: 'value' was not declared in this scope
../../nan/nan.h: At global scope:
../../nan/nan.h:800:11: error: 'v8::Handle' has not been declared
../../nan/nan.h:800:17: error: expected ',' or '...' before '<' token
../../nan/nan.h: In function 'v8::Local<v8::Context> NanNewContextHandle(v8::ExtensionConfiguration*, int)':
../../nan/nan.h:798:37: error: default argument missing for parameter 2 of 'v8::Local<v8::Context> NanNewContextHandle(v8::ExtensionConfiguration*, int)'
../../nan/nan.h:805:51: error: 'tmpl' was not declared in this scope
../../nan/nan.h:805:57: error: 'obj' was not declared in this scope
../../nan/nan.h: In function 'v8::Local<v8::Script> NanCompileScript(v8::Local<v8::String>, const v8::ScriptOrigin&)':
../../nan/nan.h:814:60: warning: 'static v8::Local<v8::Script> v8::ScriptCompiler::Compile(v8::Isolate*, v8::ScriptCompiler::Source*, v8::ScriptCompiler::CompileOptions)' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:1352): Use maybe version [-Wdeprecated-declarations]
../../nan/nan.h: In function 'v8::Local<v8::Script> NanCompileScript(v8::Local<v8::String>)':
../../nan/nan.h:821:60: warning: 'static v8::Local<v8::Script> v8::ScriptCompiler::Compile(v8::Isolate*, v8::ScriptCompiler::Source*, v8::ScriptCompiler::CompileOptions)' is deprecated (declared at /home/vagrant/.node-gyp/6.9.5/include/node/v8.h:1352): Use maybe version [-Wdeprecated-declarations]
../../nan/nan.h: At global scope:
../../nan/nan.h:1443:30: error: 'Handle' in namespace 'v8' does not name a type
../../nan/nan.h:1443:34: error: ISO C++ forbids declaration of 'parameter' with no type [-fpermissive]
../../nan/nan.h:1443:40: error: expected ',' or '...' before '<' token
../../nan/nan.h:1455:37: error: 'Handle' in namespace 'v8' does not name a type
../../nan/nan.h:1455:41: error: ISO C++ forbids declaration of 'parameter' with no type [-fpermissive]
../../nan/nan.h:1455:47: error: expected ',' or '...' before '<' token
../../nan/nan.h:1465:27: error: 'v8::Handle' has not been declared
../../nan/nan.h:1465:33: error: expected ',' or '...' before '<' token
../../nan/nan.h: In constructor 'NanCallback::NanCallback()':
../../nan/nan.h:1440:36: error: no matching function for call to 'NanAssignPersistent(v8::Persistent<v8::Object>&, v8::Local<v8::Object>&)'
../../nan/nan.h:1440:36: note: candidates are:
../../nan/nan.h:615:19: note: template<class T> void NanAssignPersistent(v8::Persistent<T, v8::NonCopyablePersistentTraits<T> >&, int)
../../nan/nan.h:622:19: note: template<class T> void NanAssignPersistent(v8::Persistent<T, v8::NonCopyablePersistentTraits<T> >&, const v8::Persistent<T, v8::NonCopyablePersistentTraits<T> >&)
../../nan/nan.h: In constructor 'NanCallback::NanCallback(int)':
../../nan/nan.h:1446:36: error: no matching function for call to 'NanAssignPersistent(v8::Persistent<v8::Object>&, v8::Local<v8::Object>&)'
../../nan/nan.h:1446:36: note: candidates are:
../../nan/nan.h:615:19: note: template<class T> void NanAssignPersistent(v8::Persistent<T, v8::NonCopyablePersistentTraits<T> >&, int)
../../nan/nan.h:622:19: note: template<class T> void NanAssignPersistent(v8::Persistent<T, v8::NonCopyablePersistentTraits<T> >&, const v8::Persistent<T, v8::NonCopyablePersistentTraits<T> >&)
../../nan/nan.h:1447:17: error: 'fn' was not declared in this scope
../../nan/nan.h: In member function 'void NanCallback::SetFunction(int)':
../../nan/nan.h:1457:48: error: 'fn' was not declared in this scope
../../nan/nan.h: In member function 'void NanCallback::Call(int, int)':
../../nan/nan.h:1475:9: error: 'argv' was not declared in this scope
../../nan/nan.h: In constructor 'NanAsyncWorker::NanAsyncWorker(NanCallback*)':
../../nan/nan.h:1505:46: error: no matching function for call to 'NanAssignPersistent(v8::Persistent<v8::Object>&, v8::Local<v8::Object>&)'
../../nan/nan.h:1505:46: note: candidates are:
../../nan/nan.h:615:19: note: template<class T> void NanAssignPersistent(v8::Persistent<T, v8::NonCopyablePersistentTraits<T> >&, int)
../../nan/nan.h:622:19: note: template<class T> void NanAssignPersistent(v8::Persistent<T, v8::NonCopyablePersistentTraits<T> >&, const v8::Persistent<T, v8::NonCopyablePersistentTraits<T> >&)
../../nan/nan.h: In member function 'virtual void NanAsyncWorker::HandleOKCallback()':
../../nan/nan.h:1553:27: warning: passing NULL to non-pointer argument 2 of 'void NanCallback::Call(int, int)' [-Wconversion-null]
../../nan/nan.h: In member function 'virtual void NanAsyncWorker::HandleErrorCallback()':
../../nan/nan.h:1562:27: error: invalid conversion from 'v8::Local<v8::Value>*' to 'int' [-fpermissive]
../../nan/nan.h:1465:8: error:   initializing argument 2 of 'void NanCallback::Call(int, int)' [-fpermissive]
../../nan/nan.h: At global scope:
../../nan/nan.h:1715:5: error: 'Handle' is not a member of 'v8'
../../nan/nan.h:1715:25: error: expected primary-expression before '>' token
../../nan/nan.h:1715:27: error: 'val' was not declared in this scope
../../nan/nan.h:1716:5: error: expected primary-expression before 'const'
../../nan/nan.h:1717:11: error: expected primary-expression before '*' token
../../nan/nan.h:1717:13: error: 'len' was not declared in this scope
../../nan/nan.h:1718:1: error: expression list treated as compound expression in initializer [-fpermissive]
../../nan/nan.h:1718:3: error: expected ',' or ';' before '{' token
../../nan/nan.h:1714:13: warning: '_NanGetExternalParts' defined but not used [-Wunused-variable]
make: *** [Release/obj.target/bufferutil/src/bufferutil.o] Error 1
gyp ERR! build error 
gyp ERR! stack Error: `make` failed with exit code: 2
gyp ERR! stack     at ChildProcess.onExit (/usr/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:276:23)
gyp ERR! stack     at emitTwo (events.js:106:13)
gyp ERR! stack     at ChildProcess.emit (events.js:191:7)
gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)
gyp ERR! System Linux 3.2.0-23-generic
gyp ERR! command "/usr/bin/nodejs" "/usr/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /home/vagrant/karma-seed/node_modules/ws
gyp ERR! node -v v6.9.5
gyp ERR! node-gyp -v v3.4.0
gyp ERR! not ok 
